<?xml version="1.0" encoding="UTF-8"?>
<svg width="1000" height="300" viewBox="0 0 1000 300" fill="none" xmlns="http://www.w3.org/2000/svg">
  <!-- 背景 -->
  <rect width="1000" height="300" rx="16" fill="#1a1a1a"/>
  
  <!-- グラデーション定義 -->
  <defs>
    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#00a2ed;stop-opacity:0.1"/>
      <stop offset="100%" style="stop-color:#00a2ed;stop-opacity:0.05"/>
    </linearGradient>
    <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#7e57c2;stop-opacity:0.1"/>
      <stop offset="100%" style="stop-color:#7e57c2;stop-opacity:0.05"/>
    </linearGradient>
    <linearGradient id="grad3" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#455a64;stop-opacity:0.1"/>
      <stop offset="100%" style="stop-color:#455a64;stop-opacity:0.05"/>
    </linearGradient>
    <linearGradient id="grad4" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#2196f3;stop-opacity:0.1"/>
      <stop offset="100%" style="stop-color:#2196f3;stop-opacity:0.05"/>
    </linearGradient>
    
    <!-- 矢印の定義 -->
    <marker id="arrowhead" markerWidth="10" markerHeight="8" refX="9" refY="4" orient="auto">
      <path d="M0 0L10 4L0 8" fill="none" stroke="#ffffff80" stroke-width="1.5"/>
    </marker>
  </defs>
  
  <!-- コンポーネント -->
  <g transform="translate(80, 150)">
    <!-- Windows API -->
    <g class="component">
      <rect x="0" y="-50" width="180" height="100" rx="12" fill="url(#grad1)" stroke="#00a2ed" stroke-width="2"/>
      <text x="90" y="-20" font-family="Segoe UI, sans-serif" font-size="15" font-weight="600" fill="white" text-anchor="middle">Windows API</text>
      <text x="90" y="5" font-family="Segoe UI, sans-serif" font-size="13" fill="#ffffffcc" text-anchor="middle">システムAPI</text>
      <text x="90" y="32" font-family="Segoe UI, sans-serif" font-size="22" fill="#00a2ed" text-anchor="middle">🪟</text>
    </g>
    
    <!-- 検知 -->
    <g transform="translate(230, 0)">
      <rect x="0" y="-50" width="180" height="100" rx="12" fill="url(#grad2)" stroke="#7e57c2" stroke-width="2"/>
      <text x="90" y="-20" font-family="Segoe UI, sans-serif" font-size="15" font-weight="600" fill="white" text-anchor="middle">検知</text>
      <text x="90" y="5" font-family="Segoe UI, sans-serif" font-size="13" fill="#ffffffcc" text-anchor="middle">API呼び出し</text>
      <text x="90" y="32" font-family="Segoe UI, sans-serif" font-size="22" fill="#7e57c2" text-anchor="middle">🔍</text>
    </g>
    
    <!-- 処理 -->
    <g transform="translate(460, 0)">
      <rect x="0" y="-50" width="180" height="100" rx="12" fill="url(#grad3)" stroke="#455a64" stroke-width="2"/>
      <text x="90" y="-20" font-family="Segoe UI, sans-serif" font-size="15" font-weight="600" fill="white" text-anchor="middle">処理</text>
      <text x="90" y="5" font-family="Segoe UI, sans-serif" font-size="13" fill="#ffffffcc" text-anchor="middle">データ解析</text>
      <text x="90" y="32" font-family="Segoe UI, sans-serif" font-size="22" fill="#455a64" text-anchor="middle">⚡</text>
    </g>
    
    <!-- カスタマイズ -->
    <g transform="translate(690, 0)">
      <rect x="0" y="-50" width="180" height="100" rx="12" fill="url(#grad4)" stroke="#2196f3" stroke-width="2"/>
      <text x="90" y="-20" font-family="Segoe UI, sans-serif" font-size="15" font-weight="600" fill="white" text-anchor="middle">カスタマイズ</text>
      <text x="90" y="5" font-family="Segoe UI, sans-serif" font-size="13" fill="#ffffffcc" text-anchor="middle">動作変更</text>
      <text x="90" y="32" font-family="Segoe UI, sans-serif" font-size="22" fill="#2196f3" text-anchor="middle">✨</text>
    </g>
    
    <!-- 接続線 -->
    <g>
      <!-- API → 検知 -->
      <path d="M180 0 L230 0" 
            stroke="#ffffff80" stroke-width="1.5" 
            marker-end="url(#arrowhead)"/>
      
      <!-- 検知 → 処理 -->
      <path d="M410 0 L460 0" 
            stroke="#ffffff80" stroke-width="1.5" 
            marker-end="url(#arrowhead)"/>
      
      <!-- 処理 → カスタマイズ -->
      <path d="M640 0 L690 0" 
            stroke="#ffffff80" stroke-width="1.5" 
            marker-end="url(#arrowhead)"/>
      
      <!-- カスタマイズ → API (フィードバック) -->
      <path d="M870 0 C880 0, 890 0, 890 -20
               L890 -70
               C890 -85, 880 -85, 865 -85
               L45 -85
               C30 -85, 20 -85, 20 -70
               L20 -50" 
            stroke="#ffffff80" stroke-width="1.5" 
            stroke-dasharray="4 3"
            marker-end="url(#arrowhead)"
            fill="none"/>
    </g>
  </g>
  
  <!-- タイトル -->
  <text x="500" y="250" font-family="Segoe UI, sans-serif" font-size="14" font-weight="600" fill="#ffffff80" text-anchor="middle">
    Windows APIフックの仕組み
  </text>
</svg> 